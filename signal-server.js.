const express = require('express');
const app = express();
const server = require('http').createServer(app);
const io = require('(link unavailable)')(server);

app.use(express.static('public'));

io.on('connection', socket => {
	console.log('Nuevo cliente conectado');

	socket.on('offer', offer => {
		console.log('Oferta recibida');
		// Enviar la oferta al otro peer
		io.emit('offer', offer);
	});

	socket.on('answer', answer => {
		console.log('Respuesta recibida');
		// Enviar la respuesta al otro peer
		io.emit('answer', answer);
	});
});

server.listen(3000, () => {
	console.log('Servidor de señalización escuchando en el puerto 3000');
});
